<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>cong tac va bong den</title>
</head>
<body>
<canvas id="canvas" width="300" height="300"></canvas>
<button id="switch" onclick="turn()" style="width: 50px; height: 50px">OFF</button>

<script>
    class lampSwitch{
        constructor(status){
            this.status = false;
        }
        getStatus(){
            return this.status;
        }
        setStatus(status){
            this.status = status;
        }
    }


    class lamp{
        constructor(status, color) {
            this.status = false;
            this.color = "grey";
        }
        setStatus(status){
            this.status = status;
        }
        getStatus(){
            if (this.status){
                this.color = "red";
            }else {
                this.color = "grey"
            }
            return this.color;
        }
    }

    let mySwitch = new lampSwitch();
    let myLamp = new lamp();
    let canvas = document.getElementById("canvas").getContext("2d");
    canvas.arc(150, 150, 100, 0, 2 * Math.PI);
    canvas.fillStyle = myLamp.getStatus();
    canvas.fill();

    check();
    function check(){
        if(mySwitch.getStatus()){
            document.getElementById("switch").innerText = "ON";
        }else {
            document.getElementById("switch").innerText = "OFF";
        }
        myLamp.setStatus(mySwitch.getStatus());
        canvas.fillStyle = myLamp.getStatus();
        canvas.fill();
    }
    function turn(){
        let status = mySwitch.getStatus();
        if (status){
            mySwitch.setStatus(false);
        }else {
            mySwitch.setStatus(true);
        }
        check();
    }
</script>
</body>
</html>